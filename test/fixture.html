<!doctype html>

<html>
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>px-popover Test Suite</title>
        <!-- Requires Webcomponents.js polyfill is provided by the page for browsers that don't support html imports -->
        <script src="../bower_components/webcomponentsjs/webcomponents.min.js"></script>
        <script src="../web-component-tester/browser.js"></script>
        <!-- Import custom element. Note: see comment about relative paths to dependencies in the *.html file referenced below -->
        <link rel="import" href="../px-popover.html"/>
        <style media="screen">
            .sample-container {
                width: 250px;
                margin-left: auto;
                margin-right: auto;
            }
            .hover-popover {
                padding: 15px;
                width: 200px;
                background-color: black;
                color: white;
                text-align: center;
                vertical-align: middle;
            }
        </style>
    </head>

    <body>
        <h3>PX-Popover Test Suite</h3>
        <p>
            Although related, examples are /not/ the same as the test fixtures.
            Tests are tests, examples are examples.
        </p>

        <p>
            Also see the <a href="../index.html">documentation</a> and the <a href="../demo.html">UI demo</a>.
        </p>

        <p>
            Click button to invoke popover:
        </p>

        <div class="sample-container">
            <button id="btnUp" type="button" name="button">Up</button>
            <px-popover
                id="testPopoverUp"
                for="btnUp"
                interaction="click"
                orientation="top"
                popover-title="Top Popover"
                popover-body="Lorem ipsum dolor sit amet, consectetur elit, sed do eiusmod.">
            </px-popover>

            <button id="btnDown" type="button" name="button">Down</button>
            <px-popover
                for="btnDown"
                interaction="click"
                orientation="bottom"
                popover-title="Bottom Popover"
                popover-body="Lorem ipsum dolor sit amet, consectetur elit, sed do eiusmod.">
            </px-popover>

            <button id="btnLeft" type="button" name="button">Left</button>
            <px-popover
                for="btnLeft"
                interaction="click"
                orientation="left"
                popover-title="Left Popover"
                popover-body="Lorem ipsum dolor sit amet, consectetur elit, sed do eiusmod.">
            </px-popover>

            <button id="btnRight" type="button" name="button">Right</button>
            <px-popover
                for="btnRight"
                interaction="click"
                orientation="right"
                popover-title="Right Popover"
                popover-body="Lorem ipsum dolor sit amet, consectetur elit, sed do eiusmod.">
            </px-popover>
        </div>
        <p></p>
        <div class="sample-container">
            <div id="hoverDiv" class="hover-popover">Hover for popover</div>
            <px-popover
                for="hoverDiv"
                interaction="hover"
                orientation="bottom"
                popover-title="Bottom Popover"
                popover-body="Lorem ipsum dolor sit amet, consectetur elit, sed do eiusmod.">
            </px-popover>
        </div>

        <script>
            suite('<px-popover>', function() {
                var testPopoverUp = document.getElementById('testPopoverUp');

                test('reflects the "for" property', function() {
                    assert.equal(testPopoverUp.for, "btnUp");
                });

                test('reflects the "interaction" property', function() {
                    assert.equal(testPopoverUp.interaction, "click");
                });

                test('reflects the "orientation" property', function() {
                    assert.equal(testPopoverUp.orientation, "top");
                });

                test('reflects the "popover-title" property', function() {
                    assert.equal(testPopoverUp.popoverTitle, "Top Popover");
                });

                test('reflects the "popover-body" property', function() {
                    assert.equal(testPopoverUp.popoverBody, "Lorem ipsum dolor sit amet, consectetur elit, sed do eiusmod.");
                });

                test('hides popover before click', function() {
                    var wrapper = document.querySelectorAll('#testPopoverUp #popoverWrapper')[0];
                    expect(wrapper.hidden).to.equal(true);
                });

                test('shows popover after click', function() {
                    document.getElementById(testPopoverUp.for).click();
                    var wrapper = document.querySelectorAll('#testPopoverUp #popoverWrapper')[0];
                    expect(wrapper.hidden).to.equal(false);
                });

            });
      </script>
    </body>
</html>
